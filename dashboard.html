<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oblivion X Protects - Dashboard</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="oblivion-styles.css">
    <link rel="stylesheet" href="dashboard.css">
</head>
<body>
    <!-- Top Navigation -->
    <nav class="top-nav">
        <div class="nav-left">
            <div class="logo">
                <i class="fas fa-shield-alt"></i>
                <span>Oblivion X Protects</span>
            </div>
        </div>
        <div class="nav-center">
            <div class="user-info">
                <span class="username" id="displayUsername">Loading...</span>
                <span class="api-expiry" id="apiExpiry">API Key expires in: Loading...</span>
            </div>
        </div>
        <div class="nav-right">
            <button class="nav-icon-btn" onclick="window.open('https://discord.gg/qFhQYT4G', '_blank')">
                <i class="fab fa-discord"></i>
            </button>
            <button class="nav-icon-btn" onclick="showPlans()">
                <i class="fas fa-coins"></i>
            </button>
            <div class="user-avatar" id="userAvatar">
                <img src="" alt="User Avatar" id="avatarImg">
            </div>
            <button class="logout-btn" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i>
                Logout
            </button>
        </div>
    </nav>

    <!-- Tab Navigation -->
    <div class="tab-nav">
        <button class="tab-btn active" data-tab="dashboard">
            <i class="fas fa-tachometer-alt"></i>
            Dashboard
        </button>
        <button class="tab-btn" data-tab="projects">
            <i class="fas fa-folder"></i>
            Projects
        </button>
        <button class="tab-btn" data-tab="obfuscation">
            <i class="fas fa-code"></i>
            Obfuscation
        </button>
        <button class="tab-btn" data-tab="discord-bot">
            <i class="fab fa-discord"></i>
            Invite Discord Bot
        </button>
        <button class="tab-btn" data-tab="ip-addresses">
            <i class="fas fa-network-wired"></i>
            IP Addresses
        </button>
        <button class="tab-btn" data-tab="status">
            <i class="fas fa-chart-line"></i>
            Status
        </button>
        <div id="ownerTab" class="tab-btn" data-tab="generate-keys" style="display: none;">
            <i class="fas fa-key"></i>
            Generate Plan API Keys
        </div>
    </div>

    <!-- Dashboard Tab -->
    <div id="dashboard" class="tab-content active">
        <div class="dashboard-grid">
            <div class="stat-card">
                <div class="stat-header">
                    <h3>API Key Expiry</h3>
                    <i class="fas fa-clock"></i>
                </div>
                <div class="stat-content">
                    <div class="expiry-date" id="expiryDate">Loading...</div>
                    <div class="expiry-countdown" id="expiryCountdown">Loading...</div>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-header">
                    <h3>Whitelisted Users</h3>
                    <i class="fas fa-user-check"></i>
                </div>
                <div class="stat-content">
                    <div class="stat-number" id="whitelistedCount">0</div>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-header">
                    <h3>Blacklisted Users</h3>
                    <i class="fas fa-user-times"></i>
                </div>
                <div class="stat-content">
                    <div class="stat-number" id="blacklistedCount">0</div>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-header">
                    <h3>Scripts Obfuscated</h3>
                    <i class="fas fa-code"></i>
                </div>
                <div class="stat-content">
                    <div class="stat-number" id="obfuscatedCount">0</div>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-header">
                    <h3>Loadstring Executions</h3>
                    <i class="fas fa-play"></i>
                </div>
                <div class="stat-content">
                    <div class="stat-number" id="executionCount">0</div>
                </div>
            </div>

            <div class="stat-card time-card">
                <div class="stat-header">
                    <h3>Current Time</h3>
                    <i class="fas fa-calendar"></i>
                </div>
                <div class="stat-content">
                    <div class="current-time" id="currentTime">Loading...</div>
                    <div class="current-date" id="currentDate">Loading...</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Projects Tab -->
    <div id="projects" class="tab-content">
        <div class="projects-header">
            <h2>Your Projects</h2>
            <button class="create-project-btn" onclick="showCreateProjectModal()">
                <i class="fas fa-plus"></i>
                Create Project
            </button>
        </div>
        
        <div class="projects-stats">
            <div class="stat-mini">
                <span class="stat-label">Whitelisted Users:</span>
                <span class="stat-value" id="projectWhitelisted">0</span>
            </div>
            <div class="stat-mini">
                <span class="stat-label">Blacklisted Users:</span>
                <span class="stat-value" id="projectBlacklisted">0</span>
            </div>
            <div class="stat-mini">
                <span class="stat-label">Loadstring Executions:</span>
                <span class="stat-value" id="projectExecutions">0</span>
            </div>
        </div>

        <div class="projects-grid" id="projectsGrid">
            <!-- Projects will be dynamically added here -->
        </div>
    </div>

    <!-- Obfuscation Tab -->
    <div id="obfuscation" class="tab-content">
        <div class="obfuscation-header">
            <h2>Advanced Lua Obfuscation</h2>
            <p>Upload your Lua script to get nearly impossible to deobfuscate code</p>
        </div>

        <div class="obfuscation-container">
            <div class="file-upload-area" id="fileUploadArea">
                <div class="upload-icon">
                    <i class="fas fa-cloud-upload-alt"></i>
                </div>
                <div class="upload-text">
                    <h3>Drop your .txt file here or click to browse</h3>
                    <p>Only .txt files containing Lua code are supported</p>
                </div>
                <input type="file" id="fileInput" accept=".txt" style="display: none;">
            </div>

            <div class="obfuscation-progress" id="obfuscationProgress" style="display: none;">
                <div class="progress-step active" id="step1">
                    <div class="step-icon"><i class="fas fa-play"></i></div>
                    <div class="step-text">Getting Started</div>
                </div>
                <div class="progress-step" id="step2">
                    <div class="step-icon"><i class="fas fa-cog"></i></div>
                    <div class="step-text">Obfuscating</div>
                </div>
                <div class="progress-step" id="step3">
                    <div class="step-icon"><i class="fas fa-clock"></i></div>
                    <div class="step-text">Almost Done</div>
                </div>
                <div class="progress-step" id="step4">
                    <div class="step-icon"><i class="fas fa-check"></i></div>
                    <div class="step-text">Done</div>
                </div>
            </div>
        </div>

        <div class="obfuscation-info">
            <h3>About Our Obfuscation</h3>
            <div class="info-grid">
                <div class="info-card">
                    <i class="fas fa-shield-alt"></i>
                    <h4>Nearly Impossible to Deobfuscate</h4>
                    <p>Our advanced obfuscation engine uses multiple layers of protection that surpass MoonSec and LuaRPH</p>
                </div>
                <div class="info-card">
                    <i class="fas fa-mobile-alt"></i>
                    <h4>Cross-Platform Downloads</h4>
                    <p>Download your obfuscated code on any device including mobile platforms</p>
                </div>
                <div class="info-card">
                    <i class="fas fa-lightning-bolt"></i>
                    <h4>Lightning Fast</h4>
                    <p>Get your obfuscated code in seconds with our optimized processing engine</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Discord Bot Tab -->
    <div id="discord-bot" class="tab-content">
        <div class="discord-header">
            <h2>Discord Bot Management</h2>
            <p>Manage your Discord bot and whitelist administrators</p>
        </div>

        <div class="discord-info">
            <div class="bot-details">
                <h3>Bot Information</h3>
                <div class="bot-stats">
                    <div class="bot-stat">
                        <span class="stat-label">Client ID:</span>
                        <span class="stat-value">1407376197771595816</span>
                        <button class="copy-btn" onclick="copyToClipboard('1407376197771595816')">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                    <div class="bot-stat">
                        <span class="stat-label">Public Key:</span>
                        <span class="stat-value">58e2272f9bc57aa23c9217410b10229bbb68c43627d6484e083907ad0a27989e</span>
                        <button class="copy-btn" onclick="copyToClipboard('58e2272f9bc57aa23c9217410b10229bbb68c43627d6484e083907ad0a27989e')">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                </div>
            </div>

            <div class="admin-management">
                <h3>Discord Admin Management</h3>
                <div class="admin-form">
                    <div class="form-group">
                        <label for="adminDiscordId">Discord Admin User ID</label>
                        <div class="input-group">
                            <input type="text" id="adminDiscordId" placeholder="Enter Discord User ID">
                            <button type="button" class="add-admin-btn" onclick="addDiscordAdmin()">
                                <i class="fas fa-plus"></i>
                                Add Admin
                            </button>
                        </div>
                    </div>
                </div>

                <div class="admin-list">
                    <h4>Current Admins</h4>
                    <div class="admin-items" id="adminList">
                        <!-- Admin items will be added here -->
                    </div>
                </div>
            </div>

            <div class="bot-commands">
                <h3>Available Commands</h3>
                <div class="commands-grid">
                    <div class="command-card">
                        <h4>/whitelist [user]</h4>
                        <p>Whitelist a Discord user for bot access</p>
                    </div>
                    <div class="command-card">
                        <h4>/blacklist [user]</h4>
                        <p>Blacklist a Discord user from bot access</p>
                    </div>
                    <div class="command-card">
                        <h4>/generate key</h4>
                        <p>Generate a random key for redemption</p>
                    </div>
                    <div class="command-card">
                        <h4>/panel</h4>
                        <p>Create a panel with file uploader and role management</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- IP Addresses Tab -->
    <div id="ip-addresses" class="tab-content">
        <div class="ip-header">
            <h2>IP Address Management</h2>
            <p>Track and manage IP addresses accessing your account</p>
        </div>

        <div class="ip-controls">
            <div class="ip-toggle">
                <label class="toggle-switch">
                    <input type="checkbox" id="allowMultipleLogins">
                    <span class="toggle-slider"></span>
                </label>
                <span class="toggle-label">Allow multiple users to login to your account</span>
            </div>
        </div>

        <div class="ip-list">
            <h3>IP Addresses</h3>
            <div class="ip-items" id="ipList">
                <!-- IP items will be added here -->
            </div>
        </div>
    </div>

    <!-- Status Tab -->
    <div id="status" class="tab-content">
        <div class="status-header">
            <h2>Script Performance Status</h2>
            <p>Monitor your script performance based on user activity</p>
        </div>

        <div class="status-chart">
            <canvas id="statusChart" width="800" height="400"></canvas>
        </div>

        <div class="status-metrics">
            <div class="metric-card">
                <h4>Performance Score</h4>
                <div class="metric-value" id="performanceScore">0</div>
            </div>
            <div class="metric-card">
                <h4>Trend</h4>
                <div class="metric-value" id="trend">Stable</div>
            </div>
        </div>
    </div>

    <!-- Generate Plan API Keys Tab (Owner Only) -->
    <div id="generate-keys" class="tab-content">
        <div class="keys-header">
            <h2>Generate Plan API Keys</h2>
            <p>Generate API keys for different subscription plans</p>
        </div>

        <div class="keys-grid">
            <div class="key-plan">
                <h3>1 Month Plan</h3>
                <button class="generate-key-btn" onclick="generatePlanKey('1month')">
                    Generate 1 Month Key
                </button>
            </div>
            <div class="key-plan">
                <h3>5 Months Plan</h3>
                <button class="generate-key-btn" onclick="generatePlanKey('5months')">
                    Generate 5 Months Key
                </button>
            </div>
            <div class="key-plan">
                <h3>1 Year Plan</h3>
                <button class="generate-key-btn" onclick="generatePlanKey('1year')">
                    Generate 1 Year Key
                </button>
            </div>
            <div class="key-plan">
                <h3>2 Years Plan</h3>
                <button class="generate-key-btn" onclick="generatePlanKey('2years')">
                    Generate 2 Years Key
                </button>
            </div>
        </div>

        <div class="generated-keys">
            <h3>Generated Keys</h3>
            <div class="keys-list" id="generatedKeysList">
                <!-- Generated keys will be listed here -->
            </div>
        </div>
    </div>

    <!-- Create Project Modal -->
    <div id="createProjectModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Create New Project</h2>
                <button class="close-modal" onclick="closeModal('createProjectModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="createProjectForm">
                <div class="form-group">
                    <label for="projectName">Project Name</label>
                    <input type="text" id="projectName" required placeholder="Enter your project name">
                </div>
                <div class="form-group">
                    <label for="projectFile">Lua Script File</label>
                    <div class="file-upload-area">
                        <input type="file" id="projectFile" accept=".txt" required>
                        <label for="projectFile" class="file-label">
                            <i class="fas fa-cloud-upload-alt"></i>
                            Choose .txt file
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label>Project Type</label>
                    <div class="project-type-buttons">
                        <button type="button" class="type-btn active" data-type="freeforall">
                            <i class="fas fa-globe"></i>
                            Free for All
                        </button>
                        <button type="button" class="type-btn" data-type="usermanagement">
                            <i class="fas fa-users"></i>
                            User Management
                        </button>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn-primary">Create Project</button>
                    <button type="button" class="btn-secondary" onclick="closeModal('createProjectModal')">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- User Management Modal -->
    <div id="userManagementModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>User Management</h2>
                <button class="close-modal" onclick="closeModal('userManagementModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="user-management-tabs">
                <button class="tab-btn active" data-tab="whitelist">Whitelist</button>
                <button class="tab-btn" data-tab="blacklist">Blacklist</button>
            </div>
            
            <div id="whitelistTab" class="tab-content active">
                <div class="form-group">
                    <label for="whitelistUserId">Roblox User ID</label>
                    <div class="input-group">
                        <input type="text" id="whitelistUserId" placeholder="Enter Roblox User ID">
                        <button type="button" class="btn-primary" onclick="addWhitelistUser()">Send</button>
                    </div>
                </div>
                <div class="user-list" id="whitelistUsers">
                    <!-- Whitelisted users will be listed here -->
                </div>
            </div>

            <div id="blacklistTab" class="tab-content">
                <div class="form-group">
                    <label for="blacklistUserId">Roblox User ID</label>
                    <div class="input-group">
                        <input type="text" id="blacklistUserId" placeholder="Enter Roblox User ID">
                        <button type="button" class="btn-primary" onclick="addBlacklistUser()">Send</button>
                    </div>
                </div>
                <div class="user-list" id="blacklistUsers">
                    <!-- Blacklisted users will be listed here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Notification System -->
    <div id="notification-container"></div>

    <script src="analytics.js"></script>
    <script src="security-tracker.js"></script>
    <script src="dashboard.js"></script>
    <script>
        // Initialize analytics and security when dashboard loads
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize analytics after dashboard
            setTimeout(() => {
                if (window.OblivionAnalytics) {
                    window.oblivionAnalytics = new OblivionAnalytics();
                }
            }, 1000);
        });
    </script>
</body>
</html>
